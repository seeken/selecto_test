<.button phx-click="toggle_show_view_configurator">Toggle View Controller</.button>
<div :if={@show_view_configurator}>

  <.live_component
    module={SelectoComponents.ViewSelector}
    id="config"
    view_config={@view_config}
    selecto={@selecto}
    executed={@executed}
    applied_view={nil}
  />

</div>

<%= if @executed do %>
  <%= if @applied_view == "detail" do %>
    <.live_component
      module={SelectoComponents.Components.DetailTable}
      id="results"
      selecto={@selecto}
      view_config={@view_config}
      page={@page}
    />
  <% else %>
    <.live_component
      module={SelectoComponents.Components.AggregateTable}
      id="results"
      selecto={@selecto}
    />
  <% end %>
<% end %>
